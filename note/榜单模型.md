如何每次统计时间太长了怎么办？


榜单模型

难点：
- 要求高性能
    榜单功能一般是高频访问的功能，因此性能要足够高。
- 要求高可用
    当榜单功能不可用后，怎么降低对整个系统的影响？
- 需要全表扫描，全表排序
    你需要扫描整个表的记录，计算每条记录的分数，然后整体再排序。



解决方案：
- 每个一段时间计算一次热榜
- 每次定时统计的时间不能过长，比如计算好几个小时，这种肯定不满足要求了。


如果统计的记录很多，统计时间太长 怎么办？
- 热榜都是有时效性的，从业务上讲是否能增加查询条件，比如热榜数据是一个星期的数据，或者是一个月的数据，增加时间范围，让查询的记录变少。

- 分而治之，起多个goroutine一起计算
	问题是开多少个goroutine，每个goroutine处理多少数据?





问题：

多个goroutine如何并行计算热榜？

写完热榜的计算